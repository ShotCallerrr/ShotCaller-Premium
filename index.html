<!-- Replace your login button handler -->
<script>
  function login() {
    const username = $('#username').val();
    const password = $('#password').val();
    fetch('/api/login', {
      method: 'POST',
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify({username, password})
    })
    .then(res => res.json())
    .then(data => {
      if (data.success) {
        // Store a token (e.g., JWT) or session cookie
        loadUserPanel(data.user, data.balance);
      } else {
        alert(data.message);
      }
    });
  }

  // Example of placing a bet
  function placeBet(matchId, team) {
    const amount = parseFloat($('#amount-'+matchId).val());
    fetch('/api/bet', {
      method: 'POST',
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify({matchId, team, amount})
    })
    .then(res => res.json())
    .then(data => {
      if (data.success) {
        updateBalance(data.balance);
        renderUserBets(data.bets);
      } else {
        alert(data.message);
      }
    });
  }
</script>

